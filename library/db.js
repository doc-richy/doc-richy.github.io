function e(){return"indexedDB"in window}class r{constructor(d,e){this.name=d,this.version=e,this.objectStore=void 0,this.request=void 0,this.connection=void 0,this.created=!1,this.db=void 0,this.dataObjectStore=void 0}openDatabase=()=>{var d=window.indexedDB.open(this.name,this.version);d.onsuccess=d=>{this.db=d.target.result,this.created=!0,this.dataObjectStore=this.db.transaction(this.name,"readwrite").objectStore(this.name),console.log("This.db=",this.db)},d.onerror=d=>{this.created=!1,console.log("Error in open "+d.target.errorCode)}};createDatabase=()=>{if(!e())throw new Error("Your broswer does not support indexedDB");var d=window.indexedDB.open(this.name,this.version);d.onerror=d=>{console.log("Error : "+d.target.errorCode)},d.onsuccess=d=>{console.log("Successfull database connection."),this.db=d.target.result,this.created=!0},d.onupgradeneeded=d=>{console.log("Database created."),this.db=d.target.result;d=this.db.createObjectStore(this.name,{keyPath:"scene_level"});d.createIndex("scene_level","scene_level",{unique:!0}),d.createIndex("gameTester","gameTester",{unique:!1}),d.createIndex("gameInfo","gameInfo",{unique:!1}),d.createIndex("gameInfoLast","gameInfoLast",{unique:!1}),d.createIndex("stepsArray","stepsArray",{unique:!1}),d.transaction.oncomplete=d=>{console.log(`Object store ${this.name} created.`),this.dataObjectStore=this.db.transaction(this.name,"readwrite").objectStore(this.name)}}};addData=d=>{console.log("This db=",this.db);var e=this.db.transaction(this.name,"readwrite");e.oncomplete=d=>{console.log("All data are added")},e.onerror=d=>{console.log("Error in transaction.")};const r=e.objectStore(this.name);d.forEach(d=>{const e=r.add(d);e.onsuccess=()=>{console.log("New data added "+e.result)},e.onerror=d=>{console.log("Error : "+d)}})};getData=d=>{const e=this.db.transaction(this.name).objectStore(this.name).get(d);e.onsuccess=()=>{var d=e.result;return console.log(e.result instanceof Object),d},e.onerror=d=>{console.log("Error to get info : "+d)}};getAllData=()=>{const e=this.db.transaction(this.name).objectStore(this.name).getAll();e.onsuccess=()=>{var d=e.result;return console.log("Get all data : "+e.result),console.table(d),d},e.onerror=d=>{console.log("Error to get all info : "+d)}};updateData=(d,r)=>{const t=this.db.transaction(this.name,"readwrite").objectStore(this.name);t.get(d).onsuccess=d=>{d=d.target.result;d.gameInfo=r[0].gameInfo;const e=t.put(d);e.onsuccess=()=>{console.log("Data updated : "+e.result)},e.onerror=d=>{console.log("Error updating "+d)}}};deleteData=d=>{const e=this.db.transaction(this.name,"readwrite").objectStore(this.name).delete(d);e.onsuccess=()=>{console.log("Data deleted : "+e.result)},e.onerror=d=>{console.log("Error to delete : "+d)}};deleteAll=e=>{var d=this.db.transaction(e,"readwrite").objectStore(e).clear();d.onsuccess=()=>{console.log(`Object store : ${e} emptied`)},d.onerror=d=>{console.log("Error to empty : "+e)}};printData=()=>{const e=this.db.transaction(this.name).objectStore(this.name).openCursor();e.onsuccess=()=>{var d=e.result;d?(console.log("value=",d.value),d.continue()):console.log("No more entries")},e.onerror=d=>{console.log("Error to print all info : "+d)}}}function d(d,e){return new r(d,e)}var t=[{scene_level:"19",gameTester:!0,gameInfo:{t:12e3,s:180,b:0},gameInfoLast:{t:16567,bt:16533,s:70,bs:70,b:0,bb:0},stepsArray:[{x:5,y:2,d:"s"},{x:5,y:1,d:"u"},{x:5,y:2,d:"d"},{x:6,y:2,d:"r"},{x:6,y:3,d:"d"},{x:6,y:4,d:"d"},{x:5,y:4,d:"l"},{x:4,y:4,d:"l"},{x:5,y:4,d:"r"},{x:6,y:4,d:"r"},{x:7,y:4,d:"r"},{x:7,y:5,d:"d"},{x:8,y:5,d:"r"},{x:9,y:5,d:"r"},{x:9,y:6,d:"d"},{x:9,y:7,d:"d"},{x:8,y:7,d:"l"},{x:9,y:7,d:"r"},{x:10,y:7,d:"r"},{x:10,y:8,d:"d"},{x:9,y:8,d:"l"},{x:9,y:7,d:"u"},{x:8,y:7,d:"l"},{x:8,y:8,d:"d"},{x:8,y:9,d:"d"},{x:8,y:10,d:"d"},{x:7,y:10,d:"l"},{x:7,y:11,d:"d"},{x:8,y:11,d:"r"},{x:9,y:11,d:"r"},{x:10,y:11,d:"r"},{x:9,y:11,d:"l"},{x:8,y:11,d:"l"},{x:7,y:11,d:"l"},{x:6,y:11,d:"l"},{x:5,y:11,d:"l"},{x:4,y:11,d:"l"},{x:3,y:11,d:"l"},{x:3,y:10,d:"u"},{x:3,y:9,d:"u"},{x:2,y:9,d:"l"},{x:1,y:9,d:"l"},{x:1,y:8,d:"u"},{x:1,y:7,d:"u"},{x:1,y:6,d:"u"},{x:1,y:5,d:"u"},{x:2,y:5,d:"r"},{x:2,y:4,d:"u"},{x:2,y:3,d:"u"},{x:1,y:3,d:"l"},{x:1,y:4,d:"d"},{x:1,y:5,d:"d"},{x:1,y:6,d:"d"},{x:1,y:7,d:"d"},{x:1,y:6,d:"u"},{x:1,y:5,d:"u"},{x:1,y:4,d:"u"},{x:1,y:3,d:"u"},{x:1,y:2,d:"u"},{x:1,y:1,d:"u"},{x:2,y:1,d:"r"},{x:2,y:0,d:"u"},{x:3,y:0,d:"r"},{x:4,y:0,d:"r"},{x:5,y:0,d:"r"},{x:5,y:1,d:"d"},{x:6,y:1,d:"r"},{x:7,y:1,d:"r"},{x:8,y:1,d:"r"},{x:9,y:1,d:"r"},{x:9,y:2,d:"d"},{x:9,y:3,d:"d"},{x:9,y:4,d:"d"},{x:9,y:5,d:"d"},{x:9,y:6,d:"d"},{x:9,y:7,d:"d"},{x:9,y:6,d:"u"},{x:9,y:5,d:"u"},{x:8,y:5,d:"l"},{x:7,y:5,d:"l"},{x:6,y:5,d:"l"},{x:6,y:4,d:"u"},{x:5,y:4,d:"l"},{x:4,y:4,d:"l"},{x:3,y:4,d:"l"},{x:4,y:4,d:"r"},{x:5,y:4,d:"r"},{x:6,y:4,d:"r"},{x:6,y:5,d:"d"},{x:6,y:6,d:"d"},{x:5,y:6,d:"l"},{x:4,y:6,d:"l"},{x:4,y:5,d:"u"},{x:4,y:6,d:"d"},{x:5,y:6,d:"r"},{x:6,y:6,d:"r"},{x:6,y:7,d:"d"},{x:6,y:8,d:"d"},{x:7,y:8,d:"r"},{x:8,y:8,d:"r"},{x:8,y:9,d:"d"},{x:8,y:10,d:"d"},{x:8,y:11,d:"d"},{x:7,y:11,d:"l"},{x:6,y:11,d:"l"},{x:5,y:11,d:"l"},{x:4,y:11,d:"l"},{x:3,y:11,d:"l"},{x:3,y:10,d:"u"},{x:3,y:9,d:"u"},{x:2,y:9,d:"l"},{x:2,y:8,d:"u"},{x:1,y:8,d:"l"},{x:1,y:7,d:"u"},{x:1,y:6,d:"u"},{x:1,y:5,d:"u"},{x:1,y:4,d:"u"},{x:1,y:3,d:"u"},{x:2,y:3,d:"r"},{x:2,y:4,d:"d"},{x:1,y:4,d:"l"},{x:1,y:3,d:"u"},{x:1,y:2,d:"u"},{x:1,y:1,d:"u"},{x:2,y:1,d:"r"},{x:2,y:2,d:"d"},{x:2,y:1,d:"u"},{x:2,y:0,d:"u"},{x:3,y:0,d:"r"},{x:4,y:0,d:"r"},{x:5,y:0,d:"r"},{x:5,y:1,d:"d"},{x:5,y:2,d:"d"},{x:6,y:2,d:"r"},{x:6,y:3,d:"d"},{x:6,y:4,d:"d"},{x:5,y:4,d:"l"},{x:4,y:4,d:"l"},{x:3,y:4,d:"l"},{x:2,y:4,d:"l"},{x:3,y:4,d:"r"},{x:4,y:4,d:"r"},{x:4,y:5,d:"d"},{x:4,y:6,d:"d"},{x:5,y:6,d:"r"},{x:6,y:6,d:"r"},{x:6,y:7,d:"d"},{x:6,y:8,d:"d"},{x:7,y:8,d:"r"},{x:8,y:8,d:"r"},{x:8,y:9,d:"d"},{x:8,y:10,d:"d"},{x:8,y:11,d:"d"},{x:7,y:11,d:"l"},{x:6,y:11,d:"l"},{x:5,y:11,d:"l"},{x:4,y:11,d:"l"},{x:3,y:11,d:"l"},{x:3,y:10,d:"u"},{x:3,y:9,d:"u"},{x:2,y:9,d:"l"},{x:1,y:9,d:"l"},{x:1,y:8,d:"u"},{x:1,y:7,d:"u"},{x:1,y:6,d:"u"},{x:1,y:5,d:"u"},{x:1,y:4,d:"u"},{x:2,y:4,d:"r"},{x:3,y:4,d:"r"},{x:4,y:4,d:"r"},{x:5,y:4,d:"r"},{x:6,y:4,d:"r"},{x:7,y:4,d:"r"},{x:7,y:5,d:"d"},{x:8,y:5,d:"r"},{x:9,y:5,d:"r"},{x:9,y:6,d:"d"},{x:9,y:7,d:"d"},{x:10,y:7,d:"r"},{x:10,y:8,d:"d"},{x:9,y:8,d:"l"},{x:9,y:7,d:"u"},{x:8,y:7,d:"l"},{x:8,y:8,d:"d"},{x:8,y:9,d:"d"},{x:8,y:10,d:"d"},{x:9,y:10,d:"r"},{x:9,y:11,d:"d"},{x:8,y:11,d:"l"}]}];export{d as makeDB,t as dataA};