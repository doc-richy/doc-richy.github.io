import{makeSound as s}from"./sounds.js";let t={toLoad:0,loaded:0,imageExtensions:["png","jpg","gif"],fontExtensions:["ttf","otf","ttc","woff"],jsonExtensions:["json"],audioExtensions:["mp3","ogg","wav","webm"],load(e){return new Promise(t=>{let n=()=>{this.loaded+=1,this.toLoad===this.loaded&&(console.log("Loaded assets = ",this.loaded),this.toLoad=0,this.loaded=0,t())};console.log("Loding assets..."),this.toLoad=e.length,e.forEach(t=>{var e=t.split(".").pop();-1!==this.imageExtensions.indexOf(e)?this.loadImage(t,n):-1!==this.fontExtensions.indexOf(e)?this.loadFont(t,n):-1!==this.jsonExtensions.indexOf(e)?this.loadJson(t,n):-1!==this.audioExtensions.indexOf(e)?this.loadSound(t,n):console.log("File type not recognized "+t)})})},loadImage(t,e){var n=new Image;n.addEventListener("load",e,!1),(this[t]=n).src=t},loadFont(t,e){var n=t.split("/").pop().split(".")[0],s=document.createElement("style");s.appendChild(document.createTextNode("@font=face {font-family:'"+n+"'; src:url('"+t+"');}")),document.head.appendChild(s),e()},loadJson(n,s){let o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="text",o.onload=t=>{var e;200===o.status&&((e=JSON.parse(o.responseText)).name=n,(this[e.name]=e).frames?this.createTilesetFrames(e,n,s):s())},o.send()},createTilesetFrames(e,t,n){let s=t.replace(/[^\/]*$/,"")+e.meta.image;let o=new Image;o.addEventListener("load",()=>{this[s]=o,Object.keys(e.frames).forEach(t=>{this[t]=e.frames[t],this[t].source=o}),n()},!1),o.src=s},loadSound(t,e){var n=s(t,e);n.name=t,this[n.name]=n,e()}};function e(t,e){return Math.floor(Math.random()*(e-t+1))+t}function n(t,e){return Math.random()*(e-t+1)+t}function o(t,e,n=!1,s=void 0){var o=e.x,a=e.y,i=e.width,e=e.height;let r;return t.x<o&&(n&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=o,r="left"),t.x+t.width>i&&(n&&(t.vx*=-1),t.mass&&(t.vx/=t.mass),t.x=i-t.width,r="right"),t.y<a&&(n&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=a,r="top"),t.y+t.height>e&&(n&&(t.vy*=-1),t.mass&&(t.vy/=t.mass),t.y=e-t.height,r="bottom"),r&&s&&s(r),r}function a(t,e,n=void 0){var s=e.x,o=e.y,a=e.width,e=e.height;let i;return t.x<s-t.width&&(i="left"),t.x>a&&(i="right"),t.y<o-t.height&&(i="top"),(i=t.y>e?"bottom":i)&&n&&n(i),i}function i(t,e){var n=e.centerX-t.centerX,e=e.centerY-t.centerY;return Math.sqrt(n*n+e*e)}function r(t,e,n){var s=e.centerX-t.centerX,e=e.centerY-t.centerY;1<=Math.sqrt(s*s,e*e)&&(t.x+=s*n,t.y+=e*n)}function h(t,e,n){var s=e.centerX-t.centerX,e=e.centerY-t.centerY,o=Math.sqrt(s*s,e*e);n<=o&&(t.x+=s/o*n,t.y+=e/o*n)}function d(t,e){return Math.atan2(e.centerY-t.centerY,e.centerX-t.centerX)}function c(t,e,n,s){t.x=e.centerX-t.parent.x+n*Math.cos(s)-t.halfWidth,t.y=e.centerY-t.parent.y+n*Math.sin(s)-t.halfWidth}function l(t,e,n,s,o){var a={};return a.x=t+Math.cos(o)*n,a.y=e+Math.sin(o)*s,a}function m(t,e,n,s,o,a){a=a();a.x=t.centerX-a.halfWidth+n*Math.cos(e),a.y=t.centerY-a.halfHeight+n*Math.sin(e),a.vx=Math.cos(e)*s,a.vy=Math.sin(e)*s,o.push(a)}function f(n=0){return new Promise((t,e)=>{setTimeout(t,n)})}export{t as assets,e as randomInt,n as randomFloat,o as contain,a as outsideBounds,i as distance,r as followEase,h as followConstant,d as angle,c as rotateSprite,l as rotatePoint,m as shoot,f as wait};